Time-of-flight PET data determine the attenuation sinogram up to a constant. In positron emission tomography (PET), a quantitative reconstruction of the tracer distribution requires accurate attenuation correction. We consider situations where a direct measurement of the attenuation coefficient of the tissues is not available or is unreliable, and where one attempts to estimate the attenuation sinogram directly from the emission data by exploiting the consistency conditions that must be satisfied by the non-attenuated data. We show that in time-of-flight PET, the attenuation sinogram is determined by the emission data except for a constant and that its gradient can be estimated efficiently using a simple analytic algorithm. The stability of the method is illustrated numerically by means of a 2D simulation.