A closed-loop mechanical ventilation controller with explicit objective functions. A closed-loop lung ventilation controller was designed, aiming to: 1) track a desired end-tidal CO2 pressure (Pet CO2), 2) find the positive end-expiratory pressure (PEEP) of minimum estimated respiratory system elastance (Ers,e), and 3) follow objective functions conjectured to reduce lung injury. After numerical simulations, tests were performed in six paralyzed piglets. Respiratory mechanics parameters were estimated by the recursive least squares (RLS) method. The controller incorporated a modified PI controller for Pet CO2 and a gradient descent method for PEEP. In each animal, three automated PEEP control runs were performed, as well as a manual PEEP titration of Ers,e and a multiple PetCO2 step change trial. Overall performance indexes were obtained from PEEP control, such as minimum Ers,e (37.0 +/- 4.5 cmH2O x L(-1)), time to reach the minimum Ers,e (235 +/- 182 s) and associated PEEP (6.5 +/- 1.0 cmH2O), and from Pet CO2 control, such as rise time (53 +/- 22 s), absolute overshoot/undershoot of PetCO2 (3 +/- 1 mmHg), and settling time (145 +/- 72 s). The resulting CO2 controller dynamics approximate physiological responses, and results from PEEP control were similar to those obtained by manual titration. Multiple dependencies linking the involved variables are discussed. The present controller can help to implement and evaluate objective functions that meet clinical goals.