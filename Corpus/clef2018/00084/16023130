Existence of fluid layers in the corners of a capillary with non-uniform wettability. Based on free energy variation we derive the criterion for displacement during water invasion of oil layers, sandwiched between water in corners and in the centre of a capillary with partly altered wettability. This displacement may arise in combination with a piston-like displacement in which the layers are formed, or, alternatively, these two displacements do not occur and a single piston-like displacement arises removing all oil from the pore cross-section at once. The free energy differentials associated with the three displacements determine exactly which displacement(s) happen during water invasion. Depending on the area and the (advancing) contact angle on the surface of altered wettability, as well as on the half-angles of the pore corners, layers may or may not exist. We compare the criterion for the displacement of oil layers with the existing geometrical criterion. The latter always allows a larger range of contact angles and pressure combination for which layers may exist than the presently derived criterion, hence the geometrical criterion is insufficient and is now superceded.